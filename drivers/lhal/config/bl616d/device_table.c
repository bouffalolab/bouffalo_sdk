#include "bflb_core.h"
#include "bl616d_memorymap.h"
#include "bl616d_irq.h"

#define DMA_CHANNEL_OFFSET 0x100
#define ADC_IDX_OFFSET     0x038

#ifndef BOOTROM
struct bflb_device_s bl616d_device_table[] = {
#else
const struct bflb_device_s bl616d_device_table[] = {
#endif
    { .name = BFLB_NAME_ADC_V3_0,
      .reg_base = AON_BASE,
      .irq_num = BL616D_IRQ_GPADC_DMA,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_ADC,
      .user_data = NULL },
    { .name = BFLB_NAME_ADC_V3_1,
      .reg_base = AON_BASE + ADC_IDX_OFFSET,
      .irq_num = BL616D_IRQ_GPADC_DMA,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_ADC,
      .user_data = NULL },
    { .name = BFLB_NAME_SDH,
      .reg_base = SDH_BASE,
      .irq_num = BL616D_IRQ_SDH,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SDH,
      .user_data = NULL },
    { .name = BFLB_NAME_DAC0,
      .reg_base = GLB_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DAC,
      .user_data = NULL },
    { .name = BFLB_NAME_EF_CTRL,
      .reg_base = EF_CTRL_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_EF_CTRL,
      .user_data = NULL },
    { .name = BFLB_NAME_GPIO,
      .reg_base = GLB_BASE,
      .irq_num = BL616D_IRQ_GPIO_INT0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_GPIO,
      .user_data = NULL },
    { .name = BFLB_NAME_UART0,
      .reg_base = UART0_BASE,
      .irq_num = BL616D_IRQ_UART0,
      .idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_UART,
      .user_data = NULL },
    { .name = BFLB_NAME_UART1,
      .reg_base = UART1_BASE,
      .irq_num = BL616D_IRQ_UART1,
      .idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_UART,
      .user_data = NULL },
    { .name = BFLB_NAME_UART2,
      .reg_base = UART2_BASE,
      .irq_num = BL616D_IRQ_UART2,
      .idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_UART,
      .user_data = NULL },
    { .name = BFLB_NAME_UART3,
      .reg_base = UART3_BASE,
      .irq_num = BL616D_IRQ_UART3,
      .idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_UART,
      .user_data = NULL },
    { .name = BFLB_NAME_SPI0,
      .reg_base = SPI_BASE,
      .irq_num = BL616D_IRQ_SPI0,
      .idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SPI,
      .user_data = NULL },
    { .name = BFLB_NAME_SPI1,
      .reg_base = SPI1_BASE,
      .irq_num = BL616D_IRQ_SPI1,
      .idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_SPI,
      .user_data = NULL },
    { .name = BFLB_NAME_PWM_V2_0,
      .reg_base = PWM_BASE,
      .irq_num = BL616D_IRQ_PWM,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_PWM,
      .user_data = NULL },
    { .name = BFLB_NAME_PWM_V2_1,
      .reg_base = PWM1_BASE,
      .irq_num = BL616D_IRQ_PWM1,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_PWM,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH0,
      .reg_base = DMA_BASE + 1 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH1,
      .reg_base = DMA_BASE + 2 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH2,
      .reg_base = DMA_BASE + 3 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 2,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH3,
      .reg_base = DMA_BASE + 4 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 3,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH4,
      .reg_base = DMA_BASE + 5 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 4,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH5,
      .reg_base = DMA_BASE + 6 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 5,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH6,
      .reg_base = DMA_BASE + 7 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 6,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA0_CH7,
      .reg_base = DMA_BASE + 8 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA0_ALL,
      .idx = 0,
      .sub_idx = 7,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH0,
      .reg_base = DMA1_BASE + 1 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH1,
      .reg_base = DMA1_BASE + 2 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH2,
      .reg_base = DMA1_BASE + 3 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 2,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH3,
      .reg_base = DMA1_BASE + 4 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 3,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH4,
      .reg_base = DMA1_BASE + 5 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 4,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH5,
      .reg_base = DMA1_BASE + 6 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 5,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH6,
      .reg_base = DMA1_BASE + 7 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 6,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA1_CH7,
      .reg_base = DMA1_BASE + 8 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA1_ALL,
      .idx = 1,
      .sub_idx = 7,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA2_CH0,
      .reg_base = DMA2_BASE + 1 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA2_INT0,
      .idx = 2,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA2_CH1,
      .reg_base = DMA2_BASE + 2 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA2_INT1,
      .idx = 2,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA2_CH2,
      .reg_base = DMA2_BASE + 3 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA2_INT2,
      .idx = 2,
      .sub_idx = 2,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA2_CH3,
      .reg_base = DMA2_BASE + 4 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA2_INT3,
      .idx = 2,
      .sub_idx = 3,
      .dev_type = BFLB_DEVICE_TYPE_DMA,
      .user_data = NULL },
    { .name = BFLB_NAME_I2C0,
      .reg_base = I2C0_BASE,
      .irq_num = BL616D_IRQ_I2C0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_I2C,
      .user_data = NULL },
    { .name = BFLB_NAME_I2C1,
      .reg_base = I2C1_BASE,
      .irq_num = BL616D_IRQ_I2C1,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_I2C,
      .user_data = NULL },
    { .name = BFLB_NAME_I2C2,
      .reg_base = I2C2_BASE,
      .irq_num = BL616D_IRQ_I2C2,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_I2C,
      .user_data = NULL },
    { .name = BFLB_NAME_I2S0,
      .reg_base = I2S_BASE,
      .irq_num = BL616D_IRQ_I2S,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_I2S,
      .user_data = NULL },
    { .name = BFLB_NAME_TIMER0,
      .reg_base = TIMER_BASE,
      .irq_num = BL616D_IRQ_TIMER0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_TIMER,
      .user_data = NULL },
    { .name = BFLB_NAME_TIMER1,
      .reg_base = TIMER_BASE,
      .irq_num = BL616D_IRQ_TIMER1,
      .idx = 1,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_TIMER,
      .user_data = NULL },
    { .name = BFLB_NAME_TIMER2,
      .reg_base = TIMER1_BASE,
      .irq_num = BL616D_IRQ_TIMER2,
      .idx = 0,
      .sub_idx = 2,
      .dev_type = BFLB_DEVICE_TYPE_TIMER,
      .user_data = NULL },
    { .name = BFLB_NAME_TIMER3,
      .reg_base = TIMER1_BASE,
      .irq_num = BL616D_IRQ_TIMER3,
      .idx = 1,
      .sub_idx = 3,
      .dev_type = BFLB_DEVICE_TYPE_TIMER,
      .user_data = NULL },
    { .name = BFLB_NAME_RTC,
      .reg_base = HBN_BASE,
      .irq_num = BL616D_IRQ_HBN_OUT0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_RTC,
      .user_data = NULL },
    { .name = BFLB_NAME_SEC_AES,
      .reg_base = SEC_ENG_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SEC_AES,
      .user_data = NULL },
    { .name = BFLB_NAME_SEC_SHA,
      .reg_base = SEC_ENG_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SEC_SHA,
      .user_data = NULL },
    { .name = BFLB_NAME_SEC_TRNG,
      .reg_base = SEC_ENG_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SEC_TRNG,
      .user_data = NULL },
    { .name = BFLB_NAME_SEC_PKA,
      .reg_base = SEC_ENG_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SEC_PKA,
      .user_data = NULL },
    { .name = BFLB_NAME_SEC_GMAC,
      .reg_base = SEC_ENG_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SEC_GMAC,
      .user_data = NULL },
    { .name = BFLB_NAME_EMAC_V2_0,
      .reg_base = EMAC_V2_0_BASE,
      .irq_num = BL616D_IRQ_ETH,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_EMAC_V2,
      .user_data = NULL },
    { .name = BFLB_NAME_EMAC_V2_1,
      .reg_base = EMAC_V2_1_BASE,
      .irq_num = BL616D_IRQ_ETH,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_EMAC_V2,
      .user_data = NULL },
    { .name = BFLB_NAME_EMAC0,
      .reg_base = EMAC0_BASE,
      .irq_num = BL616D_IRQ_ETH,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_ETH,
      .user_data = NULL },
    { .name = BFLB_NAME_EMAC1,
      .reg_base = EMAC1_BASE,
      .irq_num = BL616D_IRQ_ETH,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_ETH,
      .user_data = NULL },
    { .name = BFLB_NAME_WDT,
      .reg_base = TIMER_BASE,
      .irq_num = BL616D_IRQ_WDG,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_TIMER,
      .user_data = NULL },
    { .name = BFLB_NAME_WDT1,
      .reg_base = TIMER1_BASE,
      .irq_num = BL616D_IRQ_WDG1,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_TIMER,
      .user_data = NULL },
    { .name = BFLB_NAME_CKS,
      .reg_base = CKS_BASE,
      .irq_num = 0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_CKS,
      .user_data = NULL },
    { .name = BFLB_NAME_MJPEG,
      .reg_base = MJPEG_BASE,
      .irq_num = BL616D_IRQ_MJPEG,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_MJPEG,
      .user_data = NULL },
    { .name = BFLB_NAME_MJDEC,
      .reg_base = MJDEC_BASE,
      .irq_num = BL616D_IRQ_MJDEC,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_MJDEC,
      .user_data = NULL },
    { .name = BFLB_NAME_IRTX,
      .reg_base = IR_BASE,
      .irq_num = BL616D_IRQ_IR,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_IR,
      .user_data = NULL },
    { .name = BFLB_NAME_IRRX,
      .reg_base = IR_BASE,
      .irq_num = BL616D_IRQ_IR,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_IR,
      .user_data = NULL },
    { .name = BFLB_NAME_CAM0,
      .reg_base = DVP2AXI0_BASE,
      .irq_num = BL616D_IRQ_DVP2BUS_INT0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_CAMERA,
      .user_data = NULL },
    { .name = BFLB_NAME_CAM1,
      .reg_base = DVP2AXI1_BASE,
      .irq_num = BL616D_IRQ_DVP2BUS_INT1,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_CAMERA,
      .user_data = NULL },
    { .name = BFLB_NAME_SDIO3,
      .reg_base = SDU_BASE,
      .irq_num = BL616D_IRQ_SDIO,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_SDIO3,
      .user_data = NULL },
    { .name = BFLB_NAME_DBI,
      .reg_base = DBI_BASE,
      .irq_num = BL616D_IRQ_DISPLAY,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DBI,
      .user_data = NULL },
    { .name = BFLB_NAME_WO,
      .reg_base = GLB_BASE,
      .irq_num = BL616D_IRQ_GPIO_DMA,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_WO,
      .user_data = NULL },
    { .name = BFLB_NAME_IPC0_CH0,
      .reg_base = IPC0_BASE,
      .irq_num = BL616D_IRQ_IPC0_CH0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_IPC,
      .user_data = NULL },
    { .name = BFLB_NAME_IPC0_CH1,
      .reg_base = IPC0_BASE,
      .irq_num = BL616D_IRQ_IPC0_CH1,
      .idx = 0,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_IPC,
      .user_data = NULL },
    { .name = BFLB_NAME_IPC1_CH0,
      .reg_base = IPC1_BASE,
      .irq_num = BL616D_IRQ_IPC1_CH0,
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_IPC,
      .user_data = NULL },
    { .name = BFLB_NAME_IPC1_CH1,
      .reg_base = IPC1_BASE,
      .irq_num = BL616D_IRQ_IPC1_CH1,
      .idx = 1,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_IPC,
      .user_data = NULL },
#if !defined(CPU_LP)
    { .name = BFLB_NAME_CAN0,
      .reg_base = CANFD_BASE,
      .irq_num = BL616D_IRQ_CANFD,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_CAN,
      .user_data = NULL },
#endif
    { .name = BFLB_NAME_PEC_SM0,
      .reg_base = PEC_BASE,
      .irq_num = BL616D_IRQ_PEC_INT0,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_PEC,
      .user_data = NULL },
    { .name = BFLB_NAME_PEC_SM1,
      .reg_base = PEC_BASE,
      .irq_num = BL616D_IRQ_PEC_INT0,
      .idx = 0,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_PEC,
      .user_data = NULL },
    { .name = BFLB_NAME_PEC_SM2,
      .reg_base = PEC_BASE,
      .irq_num = BL616D_IRQ_PEC_INT0,
      .idx = 0,
      .sub_idx = 2,
      .dev_type = BFLB_DEVICE_TYPE_PEC,
      .user_data = NULL },
    { .name = BFLB_NAME_PEC_SM3,
      .reg_base = PEC_BASE,
      .irq_num = BL616D_IRQ_PEC_INT0,
      .idx = 0,
      .sub_idx = 3,
      .dev_type = BFLB_DEVICE_TYPE_PEC,
      .user_data = NULL },
    { .name = BFLB_NAME_USB_V2,
      .reg_base = USB_BASE,
      .irq_num = BL616D_IRQ_USB,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_USB,
      .user_data = NULL },
    { .name = BFLB_NAME_DVP_RASTER,
      .reg_base = RASTER2BLOCK_BASE,
#if !defined(CPU_LP)
      .irq_num = BL616D_IRQ_RASTER2BLOCK,
#else
      .irq_num = 0xff,
#endif
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DVP_RASTER,
      .user_data = NULL },
    { .name = BFLB_NAME_DPI,
      .reg_base = MM_MISC_BASE,
      .irq_num = 0xff,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DPI,
      .user_data = NULL },
    { .name = BFLB_NAME_OSD0,
      .reg_base = OSD0_BASE,
#if !defined(CPU_LP)
      .irq_num = BL616D_IRQ_OSD0,
#else
      .irq_num = 0xff,
#endif
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_OSD,
      .user_data = NULL },
    { .name = BFLB_NAME_OSD1,
      .reg_base = OSD1_BASE,
#if !defined(CPU_LP)
      .irq_num = BL616D_IRQ_OSD1,
#else
      .irq_num = 0xff,
#endif
      .idx = 1,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_OSD,
      .user_data = NULL },
#if !defined(CPU_MODEL_A0)
    { .name = BFLB_NAME_DMA2D_CH0,
      .reg_base = DMA2D_BASE + 1 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA2D,
      .idx = 0,
      .sub_idx = 0,
      .dev_type = BFLB_DEVICE_TYPE_DMA2D,
      .user_data = NULL },
    { .name = BFLB_NAME_DMA2D_CH1,
      .reg_base = DMA2D_BASE + 2 * DMA_CHANNEL_OFFSET,
      .irq_num = BL616D_IRQ_DMA2D,
      .idx = 0,
      .sub_idx = 1,
      .dev_type = BFLB_DEVICE_TYPE_DMA2D,
      .user_data = NULL },
#endif
};

struct bflb_device_s *bflb_device_get_by_name(const char *name)
{
    for (uint8_t i = 0; i < sizeof(bl616d_device_table) / sizeof(bl616d_device_table[0]); i++) {
        if (arch_strcmp(bl616d_device_table[i].name, name) == 0) {
            return (struct bflb_device_s *)&bl616d_device_table[i];
        }
    }
    LHAL_PARAM_ASSERT(0);
    return NULL;
}

void bflb_device_set_userdata(struct bflb_device_s *device, void *user_data)
{
    device->user_data = user_data;
}
