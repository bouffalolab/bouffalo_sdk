<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MQTT-C: Utilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MQTT-C
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Utilities</div>  </div>
</div><!--header-->
<div class="contents">

<p>Developer documentation for the utilities used to implement the MQTT-C client.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A message in a <a class="el" href="structmqtt__message__queue.html" title="A message queue. ">mqtt_message_queue</a>.  <a href="structmqtt__queued__message.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A message queue.  <a href="structmqtt__message__queue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmqtt__client.html">mqtt_client</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An MQTT client.  <a href="structmqtt__client.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gadfa141880e5b30429bd89018da0c8d94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#gadfa141880e5b30429bd89018da0c8d94">mqtt_mq_get</a>(mq_ptr,  index)&#160;&#160;&#160;(((struct <a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a>*) ((mq_ptr)-&gt;mem_end)) - 1 - index)</td></tr>
<tr class="memdesc:gadfa141880e5b30429bd89018da0c8d94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="structmqtt__queued__message.html" title="A message in a mqtt_message_queue. ">mqtt_queued_message</a> at <code>index</code>.  <a href="#gadfa141880e5b30429bd89018da0c8d94">More...</a><br /></td></tr>
<tr class="separator:gadfa141880e5b30429bd89018da0c8d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4be078d9d0bd6183b9082f3217622223"><td class="memItemLeft" align="right" valign="top"><a id="ga4be078d9d0bd6183b9082f3217622223"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga4be078d9d0bd6183b9082f3217622223">mqtt_mq_length</a>(mq_ptr)&#160;&#160;&#160;(((struct <a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a>*) ((mq_ptr)-&gt;mem_end)) - (mq_ptr)-&gt;queue_tail)</td></tr>
<tr class="memdesc:ga4be078d9d0bd6183b9082f3217622223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of messages in the message queue, <code>mq_ptr</code>. <br /></td></tr>
<tr class="separator:ga4be078d9d0bd6183b9082f3217622223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cd873da2116975ce39b313f93068d83"><td class="memItemLeft" align="right" valign="top"><a id="ga8cd873da2116975ce39b313f93068d83"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga8cd873da2116975ce39b313f93068d83">mqtt_mq_currsz</a>(mq_ptr)&#160;&#160;&#160;(mq_ptr-&gt;curr &gt;= (uint8_t*) ((mq_ptr)-&gt;queue_tail - 1)) ? 0 : ((uint8_t*) ((mq_ptr)-&gt;queue_tail - 1)) - (mq_ptr)-&gt;curr</td></tr>
<tr class="memdesc:ga8cd873da2116975ce39b313f93068d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used internally to recalculate the <code>curr_sz</code>. <br /></td></tr>
<tr class="separator:ga8cd873da2116975ce39b313f93068d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga28b018ca5d1c81101d36f9c0d532a0d0"><td class="memItemLeft" align="right" valign="top"><a id="ga28b018ca5d1c81101d36f9c0d532a0d0"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga28b018ca5d1c81101d36f9c0d532a0d0">MQTTQueuedMessageState</a> { <b>MQTT_QUEUED_UNSENT</b>, 
<b>MQTT_QUEUED_AWAITING_ACK</b>, 
<b>MQTT_QUEUED_COMPLETE</b>
 }<tr class="memdesc:ga28b018ca5d1c81101d36f9c0d532a0d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">An enumeration of queued message states. <br /></td></tr>
</td></tr>
<tr class="separator:ga28b018ca5d1c81101d36f9c0d532a0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7ca75c661980d4af50493f59a386f378"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga7ca75c661980d4af50493f59a386f378">__mqtt_next_pid</a> (struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *client)</td></tr>
<tr class="memdesc:ga7ca75c661980d4af50493f59a386f378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a new next packet ID.Packet ID's are generated using a max-length LFSR.  <a href="#ga7ca75c661980d4af50493f59a386f378">More...</a><br /></td></tr>
<tr class="separator:ga7ca75c661980d4af50493f59a386f378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf553ca88f48350dbde0dc3b96e550f7"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#gacf553ca88f48350dbde0dc3b96e550f7">__mqtt_send</a> (struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *client)</td></tr>
<tr class="memdesc:gacf553ca88f48350dbde0dc3b96e550f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles egress client traffic.  <a href="#gacf553ca88f48350dbde0dc3b96e550f7">More...</a><br /></td></tr>
<tr class="separator:gacf553ca88f48350dbde0dc3b96e550f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d50a465c684a5ecd1c000f811fa601e"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga4d50a465c684a5ecd1c000f811fa601e">__mqtt_recv</a> (struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *client)</td></tr>
<tr class="memdesc:ga4d50a465c684a5ecd1c000f811fa601e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles ingress client traffic.  <a href="#ga4d50a465c684a5ecd1c000f811fa601e">More...</a><br /></td></tr>
<tr class="separator:ga4d50a465c684a5ecd1c000f811fa601e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae09d4412a871ecec31377db55cc54228"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#gae09d4412a871ecec31377db55cc54228">__mqtt_puback</a> (struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *client, uint16_t packet_id)</td></tr>
<tr class="memdesc:gae09d4412a871ecec31377db55cc54228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge an ingree publish with QOS==1.  <a href="#gae09d4412a871ecec31377db55cc54228">More...</a><br /></td></tr>
<tr class="separator:gae09d4412a871ecec31377db55cc54228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga874c62f7a20b6adf13dbed2b4e2dd985"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga874c62f7a20b6adf13dbed2b4e2dd985">__mqtt_pubrec</a> (struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *client, uint16_t packet_id)</td></tr>
<tr class="memdesc:ga874c62f7a20b6adf13dbed2b4e2dd985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge an ingree publish with QOS==2.  <a href="#ga874c62f7a20b6adf13dbed2b4e2dd985">More...</a><br /></td></tr>
<tr class="separator:ga874c62f7a20b6adf13dbed2b4e2dd985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga427f9191ab9967b75e0a7a2f7fa0dca0"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga427f9191ab9967b75e0a7a2f7fa0dca0">__mqtt_pubrel</a> (struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *client, uint16_t packet_id)</td></tr>
<tr class="memdesc:ga427f9191ab9967b75e0a7a2f7fa0dca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge an ingree PUBREC packet.  <a href="#ga427f9191ab9967b75e0a7a2f7fa0dca0">More...</a><br /></td></tr>
<tr class="separator:ga427f9191ab9967b75e0a7a2f7fa0dca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86ddd2a08fbe4bd351dfd161db93303d"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga86ddd2a08fbe4bd351dfd161db93303d">__mqtt_pubcomp</a> (struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *client, uint16_t packet_id)</td></tr>
<tr class="memdesc:ga86ddd2a08fbe4bd351dfd161db93303d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge an ingree PUBREL packet.  <a href="#ga86ddd2a08fbe4bd351dfd161db93303d">More...</a><br /></td></tr>
<tr class="separator:ga86ddd2a08fbe4bd351dfd161db93303d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0da861c969387bf8d0229924543d9bb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga0da861c969387bf8d0229924543d9bb7">mqtt_mq_init</a> (struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *mq, void *buf, size_t bufsz)</td></tr>
<tr class="memdesc:ga0da861c969387bf8d0229924543d9bb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a message queue.  <a href="#ga0da861c969387bf8d0229924543d9bb7">More...</a><br /></td></tr>
<tr class="separator:ga0da861c969387bf8d0229924543d9bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb54c413b4d884619c50cc20ee6eb084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#gadb54c413b4d884619c50cc20ee6eb084">mqtt_mq_clean</a> (struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *mq)</td></tr>
<tr class="memdesc:gadb54c413b4d884619c50cc20ee6eb084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear as many messages from the front of the queue as possible.  <a href="#gadb54c413b4d884619c50cc20ee6eb084">More...</a><br /></td></tr>
<tr class="separator:gadb54c413b4d884619c50cc20ee6eb084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa34e6af3ab1af60ebf8fe7b86be868fc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#gaa34e6af3ab1af60ebf8fe7b86be868fc">mqtt_mq_register</a> (struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *mq, size_t nbytes)</td></tr>
<tr class="memdesc:gaa34e6af3ab1af60ebf8fe7b86be868fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a message that was just added to the buffer.  <a href="#gaa34e6af3ab1af60ebf8fe7b86be868fc">More...</a><br /></td></tr>
<tr class="separator:gaa34e6af3ab1af60ebf8fe7b86be868fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ffcd45af057865a0d85b4e9e24789a2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__details.html#ga1ffcd45af057865a0d85b4e9e24789a2">mqtt_mq_find</a> (struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *mq, enum <a class="el" href="group__unpackers.html#gacbd36b88ec7f62bc161b07e1a0aed679">MQTTControlPacketType</a> control_type, uint16_t *packet_id)</td></tr>
<tr class="memdesc:ga1ffcd45af057865a0d85b4e9e24789a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a message in the message queue.  <a href="#ga1ffcd45af057865a0d85b4e9e24789a2">More...</a><br /></td></tr>
<tr class="separator:ga1ffcd45af057865a0d85b4e9e24789a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Developer documentation for the utilities used to implement the MQTT-C client. </p>
<dl class="section note"><dt>Note</dt><dd>To deserialize a packet from a buffer use <a class="el" href="group__unpackers.html#gaae124a93579dcd31e6f52411f4582fbd">mqtt_unpack_response</a> (it's the only function you need). </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gadfa141880e5b30429bd89018da0c8d94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadfa141880e5b30429bd89018da0c8d94">&#9670;&nbsp;</a></span>mqtt_mq_get</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mqtt_mq_get</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mq_ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">index&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((struct <a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a>*) ((mq_ptr)-&gt;mem_end)) - 1 - index)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="structmqtt__queued__message.html" title="A message in a mqtt_message_queue. ">mqtt_queued_message</a> at <code>index</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mq_ptr</td><td>A pointer to the message queue. </td></tr>
    <tr><td class="paramname">index</td><td>The index of the message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structmqtt__queued__message.html" title="A message in a mqtt_message_queue. ">mqtt_queued_message</a> at <code>index</code>. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7ca75c661980d4af50493f59a386f378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ca75c661980d4af50493f59a386f378">&#9670;&nbsp;</a></span>__mqtt_next_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t __mqtt_next_pid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a new next packet ID.Packet ID's are generated using a max-length LFSR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>The MQTT client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new packet ID that should be used. </dd></dl>

</div>
</div>
<a id="gae09d4412a871ecec31377db55cc54228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae09d4412a871ecec31377db55cc54228">&#9670;&nbsp;</a></span>__mqtt_puback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t __mqtt_puback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packet_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acknowledge an ingree publish with QOS==1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">client</td><td>The MQTT client. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packet_id</td><td>The packet ID of the ingress publish being acknowledged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>MQTT_OK</code> upon success, an <a class="el" href="group__api.html#gad0c901a8d30691ed0ca17915b691b7e7">MQTTErrors</a> otherwise. </dd></dl>

</div>
</div>
<a id="ga86ddd2a08fbe4bd351dfd161db93303d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86ddd2a08fbe4bd351dfd161db93303d">&#9670;&nbsp;</a></span>__mqtt_pubcomp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t __mqtt_pubcomp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packet_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acknowledge an ingree PUBREL packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">client</td><td>The MQTT client. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packet_id</td><td>The packet ID of the ingress PUBREL being acknowledged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>MQTT_OK</code> upon success, an <a class="el" href="group__api.html#gad0c901a8d30691ed0ca17915b691b7e7">MQTTErrors</a> otherwise. </dd></dl>

</div>
</div>
<a id="ga874c62f7a20b6adf13dbed2b4e2dd985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga874c62f7a20b6adf13dbed2b4e2dd985">&#9670;&nbsp;</a></span>__mqtt_pubrec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t __mqtt_pubrec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packet_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acknowledge an ingree publish with QOS==2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">client</td><td>The MQTT client. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packet_id</td><td>The packet ID of the ingress publish being acknowledged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>MQTT_OK</code> upon success, an <a class="el" href="group__api.html#gad0c901a8d30691ed0ca17915b691b7e7">MQTTErrors</a> otherwise. </dd></dl>

</div>
</div>
<a id="ga427f9191ab9967b75e0a7a2f7fa0dca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga427f9191ab9967b75e0a7a2f7fa0dca0">&#9670;&nbsp;</a></span>__mqtt_pubrel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t __mqtt_pubrel </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packet_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acknowledge an ingree PUBREC packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">client</td><td>The MQTT client. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packet_id</td><td>The packet ID of the ingress PUBREC being acknowledged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>MQTT_OK</code> upon success, an <a class="el" href="group__api.html#gad0c901a8d30691ed0ca17915b691b7e7">MQTTErrors</a> otherwise. </dd></dl>

</div>
</div>
<a id="ga4d50a465c684a5ecd1c000f811fa601e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d50a465c684a5ecd1c000f811fa601e">&#9670;&nbsp;</a></span>__mqtt_recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t __mqtt_recv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles ingress client traffic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>The MQTT client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MQTT_OK upon success, an <a class="el" href="group__api.html#gad0c901a8d30691ed0ca17915b691b7e7">MQTTErrors</a> otherwise. </dd></dl>

</div>
</div>
<a id="gacf553ca88f48350dbde0dc3b96e550f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf553ca88f48350dbde0dc3b96e550f7">&#9670;&nbsp;</a></span>__mqtt_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t __mqtt_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__client.html">mqtt_client</a> *&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles egress client traffic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>The MQTT client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MQTT_OK upon success, an <a class="el" href="group__api.html#gad0c901a8d30691ed0ca17915b691b7e7">MQTTErrors</a> otherwise. </dd></dl>

</div>
</div>
<a id="gadb54c413b4d884619c50cc20ee6eb084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb54c413b4d884619c50cc20ee6eb084">&#9670;&nbsp;</a></span>mqtt_mq_clean()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_mq_clean </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *&#160;</td>
          <td class="paramname"><em>mq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear as many messages from the front of the queue as possible. </p>
<dl class="section note"><dt>Note</dt><dd>Calls to this function are the <em>only</em> way to remove messages from the queue.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mq</td><td>The message queue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1ffcd45af057865a0d85b4e9e24789a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ffcd45af057865a0d85b4e9e24789a2">&#9670;&nbsp;</a></span>mqtt_mq_find()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a> * mqtt_mq_find </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *&#160;</td>
          <td class="paramname"><em>mq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__unpackers.html#gacbd36b88ec7f62bc161b07e1a0aed679">MQTTControlPacketType</a>&#160;</td>
          <td class="paramname"><em>control_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>packet_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find a message in the message queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">mq</td><td>The message queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">control_type</td><td>The control type of the message you want to find. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packet_id</td><td>The packet ID of the message you want to find. Set to <code>NULL</code> if you don't want to specify a packet ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The found message. <code>NULL</code> if the message was not found. </dd></dl>

</div>
</div>
<a id="ga0da861c969387bf8d0229924543d9bb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0da861c969387bf8d0229924543d9bb7">&#9670;&nbsp;</a></span>mqtt_mq_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mqtt_mq_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *&#160;</td>
          <td class="paramname"><em>mq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bufsz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize a message queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">mq</td><td>The message queue to initialize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The buffer for this message queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufsz</td><td>The number of bytes in the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa34e6af3ab1af60ebf8fe7b86be868fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa34e6af3ab1af60ebf8fe7b86be868fc">&#9670;&nbsp;</a></span>mqtt_mq_register()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmqtt__queued__message.html">mqtt_queued_message</a> * mqtt_mq_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmqtt__message__queue.html">mqtt_message_queue</a> *&#160;</td>
          <td class="paramname"><em>mq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a message that was just added to the buffer. </p>
<dl class="section note"><dt>Note</dt><dd>This function should be called immediately following a call to a packer function that returned a positive value. The positive value (number of bytes packed) should be passed to this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">mq</td><td>The message queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nbytes</td><td>The number of bytes that were just packed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will step <a class="el" href="structmqtt__message__queue.html#a6fdfd281cd9d9ac4bfa69840e5cbd359" title="A pointer to the position in the buffer you can pack bytes at. ">mqtt_message_queue::curr</a> and update <a class="el" href="structmqtt__message__queue.html#a0fe32958dfdb1872f040d7f86ca9a4b9" title="The number of bytes that can be written to curr. ">mqtt_message_queue::curr_sz</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The newly added struct <a class="el" href="structmqtt__queued__message.html" title="A message in a mqtt_message_queue. ">mqtt_queued_message</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
