sdk_generate_library()

sdk_library_add_sources(wpa_supplicant/wpa_supplicant.c)
sdk_library_add_sources(wpa_supplicant/wps_supplicant.c)
sdk_library_add_sources(wpa_supplicant/events.c)
sdk_library_add_sources(wpa_supplicant/scan.c)
sdk_library_add_sources(wpa_supplicant/notify.c)
sdk_library_add_sources(wpa_supplicant/bss.c)
sdk_library_add_sources(wpa_supplicant/wmm_ac.c)
sdk_library_add_sources(wpa_supplicant/wnm_sta.c)
sdk_library_add_sources(wpa_supplicant/wpas_glue.c)
sdk_library_add_sources(wpa_supplicant/eap_register.c)
sdk_library_add_sources(wpa_supplicant/config.c)
sdk_library_add_sources(wpa_supplicant/config_none.c)
sdk_library_add_sources(wpa_supplicant/ctrl_iface.c)
sdk_library_add_sources(wpa_supplicant/ctrl_iface_macsw.c)
sdk_library_add_sources(wpa_supplicant/main_macsw.c)
sdk_library_add_sources(wpa_supplicant/op_classes.c)
sdk_library_add_sources(wpa_supplicant/rrm.c)
sdk_library_add_sources(wpa_supplicant/bssid_ignore.c)
sdk_library_add_sources(wpa_supplicant/robust_av.c)
sdk_library_add_sources(src/utils/eloop_rtos.c)
sdk_library_add_sources(src/utils/common.c)
sdk_library_add_sources(src/utils/wpabuf.c)
sdk_library_add_sources(src/utils/os_macsw.c)
sdk_library_add_sources(src/utils/wpa_debug.c)
sdk_library_add_sources(src/utils/bitfield.c)
sdk_library_add_sources(src/crypto/rc4.c)
sdk_library_add_sources(src/crypto/sha1-prf.c)
sdk_library_add_sources(src/crypto/sha1-pbkdf2.c)
sdk_library_add_sources(src/crypto/sha256-prf.c)
sdk_library_add_sources(src/crypto/sha256-kdf.c)
sdk_library_add_sources(src/crypto/aes-wrap.c)
sdk_library_add_sources(src/crypto/aes-unwrap.c)
sdk_library_add_sources(src/crypto/aes-omac1.c)
sdk_library_add_sources(src/crypto/random.c)
sdk_library_add_sources(src/crypto/tls_none.c)
sdk_library_add_sources(src/crypto/dh_group5.c)
#sdk_library_add_sources(src/crypto/crypto_openssl.c)
#sdk_library_add_sources(src/crypto/crypto_libtomcrypt.c)
sdk_library_add_sources(src/crypto/crypto_internal-modexp.c)
sdk_library_add_sources(src/tls/bignum.c)
sdk_library_add_sources(src/crypto/dh_group5.c)
#sdk_library_add_sources(src/crypto/crypto_openssl.c)
#sdk_library_add_sources(src/crypto/crypto_libtomcrypt.c)
sdk_library_add_sources(src/crypto/crypto_internal-modexp.c)
sdk_library_add_sources(src/tls/bignum.c)
sdk_library_add_sources(wpa_supplicant/sme.c)
sdk_library_add_sources(wpa_supplicant/mbo.c)
sdk_library_add_sources(src/common/sae.c)
sdk_library_add_sources(src/common/dragonfly.c)
sdk_library_add_sources(src/crypto/crypto_mbedtls.c)
sdk_library_add_sources(src/crypto/crypto_mbedtls_misc.c)
sdk_library_add_sources(src/crypto/dh_groups.c)
sdk_library_add_sources(src/l2_packet/l2_packet_macsw.c)
sdk_library_add_sources(src/rsn_supp/wpa.c)
sdk_library_add_sources(src/rsn_supp/wpa_ie.c)
sdk_library_add_sources(src/rsn_supp/preauth.c)
sdk_library_add_sources(src/rsn_supp/pmksa_cache.c)
sdk_library_add_sources(src/eapol_supp/eapol_supp_sm.c)
sdk_library_add_sources(src/drivers/drivers.c)
sdk_library_add_sources(src/drivers/driver_common.c)
sdk_library_add_sources(src/drivers/driver_macsw.c)
sdk_library_add_sources(src/common/wpa_common.c)
sdk_library_add_sources(src/common/ieee802_11_common.c)
sdk_library_add_sources(src/common/hw_features_common.c)
sdk_library_add_sources(wpa_supplicant/ap.c)
sdk_library_add_sources(src/ap/hostapd.c)
sdk_library_add_sources(src/ap/wpa_auth_glue.c)
sdk_library_add_sources(src/ap/utils.c)
sdk_library_add_sources(src/ap/authsrv.c)
sdk_library_add_sources(src/ap/ap_config.c)
sdk_library_add_sources(src/utils/ip_addr.c)
sdk_library_add_sources(src/ap/sta_info.c)
sdk_library_add_sources(src/ap/tkip_countermeasures.c)
sdk_library_add_sources(src/ap/ap_mlme.c)
sdk_library_add_sources(src/ap/ieee802_1x.c)
sdk_library_add_sources(src/eapol_auth/eapol_auth_sm.c)
sdk_library_add_sources(src/ap/ieee802_11_auth.c)
sdk_library_add_sources(src/ap/ieee802_11_shared.c)
sdk_library_add_sources(src/ap/drv_callbacks.c)
sdk_library_add_sources(src/ap/ap_drv_ops.c)
sdk_library_add_sources(src/ap/beacon.c)
sdk_library_add_sources(src/ap/bss_load.c)
sdk_library_add_sources(src/ap/eap_user_db.c)
sdk_library_add_sources(src/ap/neighbor_db.c)
sdk_library_add_sources(src/ap/rrm.c)
sdk_library_add_sources(src/utils/crc32.c)
sdk_library_add_sources(src/utils/uuid.c)
sdk_library_add_sources(src/utils/base64.c)
sdk_library_add_sources(src/ap/wmm.c)
sdk_library_add_sources(src/ap/mbo_ap.c)
sdk_library_add_sources(src/ap/ap_list.c)
sdk_library_add_sources(src/ap/ieee802_11.c)
sdk_library_add_sources(src/ap/hw_features.c)
sdk_library_add_sources(src/ap/dfs.c)
sdk_library_add_sources(src/ap/wpa_auth.c)
sdk_library_add_sources(src/ap/wpa_auth_ie.c)
sdk_library_add_sources(src/ap/pmksa_cache_auth.c)
sdk_library_add_sources(src/ap/ieee802_11_ht.c)
sdk_library_add_sources(src/ap/ieee802_11_vht.c)
sdk_library_add_sources(src/ap/ieee802_11_he.c)
sdk_library_add_sources(src/ap/wnm_ap.c)
sdk_library_add_sources(src/eap_server/eap_server.c)
sdk_library_add_sources(src/ap/wps_hostapd.c)
sdk_library_add_sources(src/wps/wps.c)
sdk_library_add_sources(src/wps/wps_attr_build.c)
sdk_library_add_sources(src/wps/wps_dev_attr.c)
sdk_library_add_sources(src/wps/wps_attr_parse.c)
sdk_library_add_sources(src/wps/wps_registrar.c)
sdk_library_add_sources(src/wps/wps_common.c)
sdk_library_add_sources(src/eap_server/eap_server_identity.c)
sdk_library_add_sources(src/eap_server/eap_server_methods.c)
sdk_library_add_sources(src/eap_common/eap_common.c)
sdk_library_add_sources(src/eap_peer/eap.c)
sdk_library_add_sources(src/eap_peer/eap_wsc.c)
sdk_library_add_sources(src/eap_peer/eap_methods.c)
sdk_library_add_sources(src/eap_common/eap_wsc_common.c)
sdk_library_add_sources(src/eap_peer/eap_methods.c)
sdk_library_add_sources(src/ap/ctrl_iface_ap.c)
sdk_library_add_sources(src/eapol_supp/eapol_supp_sm.c)
sdk_library_add_sources(src/wps/wps_attr_process.c)
sdk_library_add_sources(src/wps/wps_enrollee.c)

sdk_add_include_directories(wpa_supplicant)
sdk_add_include_directories(src)
sdk_add_include_directories(src/utils)
sdk_add_include_directories(src/crypto)
sdk_add_include_directories(src/l2_packet)
sdk_add_include_directories(src/rsn_supp)
sdk_add_include_directories(src/drivers)
sdk_add_include_directories(src/eap_peer)
sdk_add_include_directories(src/wps)
sdk_add_include_directories(src/eapol_supp)

#sdk_add_compile_definitions(-DCONFIG_WPA_EXTRA_LOG_PRINT)
sdk_add_compile_definitions(-DCONFIG_MACSW_LWIP)
sdk_add_compile_definitions(-DCONFIG_USE_MBEDTLS)
sdk_add_compile_definitions(-DCONFIG_NO_STDOUT_DEBUG)
#sdk_add_compile_definitions(-DCONFIG_WPA_LOG_LEVEL=MSG_EXCESSIVE)
#MSG_EXCESSIVE, MSG_MSGDUMP, MSG_DEBUG, MSG_INFO, MSG_WARNING, MSG_ERROR

if(CONFIG_MBEDTLS_AES_USE_HW
   AND CONFIG_MBEDTLS_BIGNUM_USE_HW
   AND CONFIG_MBEDTLS_ECC_USE_HW
   AND CONFIG_MBEDTLS_SHA1_USE_HW
   AND CONFIG_MBEDTLS_SHA256_USE_HW
   AND CONFIG_MBEDTLS_SHA512_USE_HW)
    message(WARNING "WPA SUPPLICNAT USE SMALL STACK")
else()
    sdk_add_compile_definitions(-DWPA_SUPPLICANT_USE_NORMAL_STACK)
endif()
